VITE_OPENROUTER_API_KEY=

# Model tiers — set any OpenRouter model ID
# See https://openrouter.ai/models for available models
VITE_MODEL_QUALITY=anthropic/claude-opus-4.6
VITE_MODEL_BALANCED=anthropic/claude-sonnet-4.5
VITE_MODEL_SPEED=anthropic/claude-haiku-4.5

# Which tier to use by default for compiler and generation (quality | balanced | speed)
VITE_DEFAULT_COMPILER_TIER=balanced
VITE_DEFAULT_GENERATION_TIER=balanced

# Max output tokens for generation (optional)
# If not set, no limit is imposed - the model uses its natural maximum.
# Only set this if you need to constrain output length.
# VITE_MAX_OUTPUT_TOKENS=16384

# ─── Prompts ───────────────────────────────────────────────────────────
#
# HOW THE APP WORKS (two-stage pipeline):
#
#   1. COMPILE  — You fill out a spec (4 sections). You hit Compile.
#                  The LLM reads your spec and returns variant strategies.
#
#   2. GENERATE — You review/edit strategies, then hit Generate.
#                  For EACH variant, the LLM gets the strategy + your spec
#                  and returns actual HTML or React code.
#
# Edit any prompt below. Use \n for newlines.
# Templates use {{PLACEHOLDER}} tokens replaced at runtime.
# Delete a value to fall back to the built-in default (same text).
#
#
# ══════════════════════════════════════════════════════════════════════
# STAGE 1: COMPILE
# ══════════════════════════════════════════════════════════════════════
#
# When you hit Compile, the app sends TWO messages to the LLM:
#   1. System message (VITE_PROMPT_COMPILER_SYSTEM) — the LLM's role
#   2. User message (VITE_PROMPT_COMPILER_USER) — your spec data
#
# EXAMPLE — if your spec title is "SaaS Pricing Page" and you wrote
# "First-time visitors comparing plans..." in Research & Context, the
# LLM receives a user message that looks like:
#
#   Analyze the following design specification and produce a dimension
#   map with variant strategies.
#
#   # Design Specification: SaaS Pricing Page
#
#   ## Existing Design — what exists today and what prompted a redesign
#   Current page has 3 plan cards side by side. Conversion is 2.1%...
#
#   ## Research & Context
#   First-time visitors comparing plans...
#
#   ## Objectives & Metrics
#   Increase plan selection rate from 2.1% to 4%...
#
#   ## Design Constraints
#   Must keep 3 tiers. Can vary: layout density, CTA placement...
#
#   ---
#   Produce the dimension map as JSON.
#
# The LLM then returns JSON with variant strategies like
# "Trust-Forward" and "Progressive Disclosure".

# System message — the LLM's role during compilation.
VITE_PROMPT_COMPILER_SYSTEM=You are a design exploration strategist. Your job is to analyze a design specification and produce a dimension map — a structured plan for generating design variants that systematically explore the defined solution space.\n\n## Your Task\n\nGiven a design specification with up to 4 sections (Existing Design, Research & Context, Objectives & Metrics, Design Constraints), you must:\n\n1. **Identify dimensions** from the Design Constraints section. Each dimension is a variable that can change across variants (e.g., information architecture, messaging approach, layout density, interaction pattern). The Design Constraints section defines both the non-negotiable boundaries and the exploration space.\n\n2. **Reason about interactions** between dimensions. Which variables are coupled? A 40-word headline needs different spatial treatment than a 6-word one. Trust signal density affects information architecture. Identify these couplings.\n\n3. **Produce variant strategies** — each is a coherent plan for one generated variant. Not random permutations, but intentional strategies that make different bets about what matters most, grounded in the spec's stated needs and research insights.\n\n## Output Format\n\nReturn ONLY valid JSON matching this schema (no markdown fences, no explanation outside the JSON):\n\n{\n  "dimensions": [\n    {\n      "name": "string — dimension name",\n      "range": "string — the defined range from the spec",\n      "isConstant": false\n    }\n  ],\n  "variants": [\n    {\n      "name": "string — short strategy label (e.g., 'Progressive Disclosure', 'Trust-Forward')",\n      "primaryEmphasis": "string — which dimension(s) this variant pushes on most",\n      "rationale": "string — why this variant is worth exploring, tied to the spec's stated needs and research",\n      "howItDiffers": "string — explicit comparison to other planned variants",\n      "coupledDecisions": "string — where dimensions are linked in this variant",\n      "dimensionValues": {\n        "dimension name": "specific value or position within the range for this variant"\n      }\n    }\n  ]\n}\n\n## Guidelines\n\n- Produce 4-6 variant strategies by default. Fewer if the spec is very tight, more if it is very loose.\n- Every variant must satisfy ALL non-negotiable constraints stated in the Design Constraints section.\n- Ground every rationale in the spec's stated needs, research insights, or objectives. No generic reasoning.\n- If the spec is sparse, produce more divergent variants. If it is dense with tight ranges, produce focused variations.\n- Name strategies descriptively. "Variant A" is useless. "Anxiety-First Progressive Disclosure" tells the designer what bet this variant is making.\n- The dimension map is a negotiation tool — the designer will edit it. Be explicit about your reasoning so they can correct misinterpretations.

# User message — your spec sections get injected into the {{PLACEHOLDERS}}.
#   {{SPEC_TITLE}}          — name of this spec
#   {{EXISTING_DESIGN}}     — your "Existing Design" section
#   {{RESEARCH_CONTEXT}}    — your "Research & Context" section
#   {{OBJECTIVES_METRICS}}  — your "Objectives & Metrics" section
#   {{DESIGN_CONSTRAINTS}}  — your "Design Constraints" section
#   {{IMAGE_BLOCK}}         — reference image descriptions (auto-generated)
VITE_PROMPT_COMPILER_USER=Analyze the following design specification and produce a dimension map with variant strategies.\n\n# Design Specification: {{SPEC_TITLE}}\n\n## Existing Design — what exists today and what prompted a redesign\n{{EXISTING_DESIGN}}\n\n## Research & Context — who the user is, what they need, behavioral insights\nUse this to ground every variant rationale in real user needs, not assumptions.\n{{RESEARCH_CONTEXT}}\n\n## Objectives & Metrics — success criteria the variants will be judged against\nEnsure every variant strategy can be evaluated against these measures.\n{{OBJECTIVES_METRICS}}\n\n## Design Constraints — non-negotiable boundaries AND the exploration space\nThe constraints define the walls. The exploration ranges within them define where variants may diverge. Extract your dimensions from the exploration ranges here.\n{{DESIGN_CONSTRAINTS}}\n\n{{IMAGE_BLOCK}}\n\n---\n\nProduce the dimension map as JSON. Remember: every variant must satisfy all non-negotiable constraints while exploring within the defined ranges.

#
# ══════════════════════════════════════════════════════════════════════
# STAGE 2: GENERATE
# ══════════════════════════════════════════════════════════════════════
#
# When you hit Generate, the app sends TWO messages per variant:
#   1. System message (GEN_SYSTEM_HTML or GEN_SYSTEM_REACT) — output format
#   2. User message (VITE_PROMPT_VARIANT) — strategy + your spec
#
# EXAMPLE — if the compiler produced a "Trust-Forward" strategy and
# your spec is the SaaS Pricing Page from above, the LLM receives:
#
#   System: You are a design generation system. Return ONLY a complete,
#           self-contained HTML document. Include all CSS inline...
#
#   User:   You are a design generation system. Generate a complete,
#           self-contained HTML page implementing the following variant.
#
#           ## VARIANT STRATEGY: Trust-Forward
#
#           ### Primary Emphasis
#           Trust signals and social proof density
#
#           ### Rationale
#           Research shows first-time visitors need proof before committing...
#
#           ### Dimension Values
#           - Trust signal density: High (testimonials in every card)
#           - CTA placement: Below social proof block
#           - Layout density: Moderate
#
#           ---
#           ## CONTEXT
#           ### Research & Context
#           First-time visitors comparing plans...
#
#           ## OBJECTIVES & METRICS
#           Increase plan selection rate from 2.1% to 4%...
#
#           ## DESIGN CONSTRAINTS
#           Must keep 3 tiers. Can vary: layout density, CTA placement...
#
#           ## OUTPUT REQUIREMENTS
#           - Return ONLY a complete, self-contained HTML document...
#
# The LLM then returns a full HTML page implementing that variant.

# System messages — tells the LLM what format to output.
VITE_PROMPT_GEN_SYSTEM_HTML=You are a design generation system. Return ONLY a complete, self-contained HTML document. Include all CSS inline. No external dependencies.
VITE_PROMPT_GEN_SYSTEM_REACT=You are a design generation system. Return ONLY a single self-contained React component as JSX. Include all styles inline or via a <style> tag. The component should be named App and export as default. No imports needed — React is available globally.

# User message — sent once per variant. Strategy {{PLACEHOLDERS}} come from
# the compiler output (editable in Dimension Map UI before you hit Generate).
#   {{STRATEGY_NAME}}       — e.g. "Trust-Forward"
#   {{PRIMARY_EMPHASIS}}    — e.g. "Trust signals and social proof density"
#   {{RATIONALE}}           — e.g. "Research shows first-time visitors need proof..."
#   {{COUPLED_DECISIONS}}   — e.g. "High trust density requires moderate layout..."
#   {{DIMENSION_VALUES}}    — e.g. "- Trust signal density: High\n- CTA placement: Below..."
# Your spec sections (same content from the editor):
#   {{RESEARCH_CONTEXT}}    — your "Research & Context" section
#   {{OBJECTIVES_METRICS}}  — your "Objectives & Metrics" section
#   {{DESIGN_CONSTRAINTS}}  — your "Design Constraints" section
#   {{IMAGE_BLOCK}}         — reference image descriptions (may be empty)
VITE_PROMPT_VARIANT=You are a design generation system. Generate a complete, self-contained HTML page implementing the following design variant.\n\n## VARIANT STRATEGY: {{STRATEGY_NAME}}\n\n### Primary Emphasis\n{{PRIMARY_EMPHASIS}}\n\n### Rationale\n{{RATIONALE}}\n\n### Coupled Decisions\n{{COUPLED_DECISIONS}}\n\n### Dimension Values\n{{DIMENSION_VALUES}}\n\n---\n\n## CONTEXT\n\n### Research & Context\n{{RESEARCH_CONTEXT}}\n\n{{IMAGE_BLOCK}}\n\n---\n\n## OBJECTIVES & METRICS (How this variant will be judged)\n{{OBJECTIVES_METRICS}}\n\n---\n\n## DESIGN CONSTRAINTS (Non-negotiable boundaries + exploration space)\n{{DESIGN_CONSTRAINTS}}\n\n---\n\n## OUTPUT REQUIREMENTS\n- Return ONLY a complete, self-contained HTML document with inline CSS.\n- Include a proper DOCTYPE, html, head, and body.\n- Use modern CSS (flexbox, grid, custom properties).\n- Make it responsive and accessible (semantic HTML, proper contrast, keyboard-navigable).\n- Include realistic, plausible content — not lorem ipsum.\n- No external dependencies (no CDN links, no external stylesheets).\n- The page should be visually polished and production-quality.
